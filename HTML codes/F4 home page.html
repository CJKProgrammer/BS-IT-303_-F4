<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Online Shop</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }

        header {
            background-color: #A90003;
            color: white;
            padding: 15px;
            text-align: center;
        }

        .dropdown {
            position: absolute;
            top: 10px;
            right: 20px;
        }

        .dropdown-button {
            background-color: white;
            border: 2px solid #2980b9; /* Blue border */
            color: #2980b9; /* Blue text */
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            right: 0;
            background-color: white;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            z-index: 1;
            border-radius: 5px;
            margin-top: 5px;
        }

            .dropdown-content .button {
                border: none;
                background: none;
                padding: 10px;
                text-align: left;
                color: #2980b9;
                width: 100%;
                cursor: pointer;
                transition: background-color 0.3s;
            }

                .dropdown-content .button:hover {
                    background-color: #f0f0f0;
                }

        .search-container {
            margin: 15px auto;
            text-align: center;
        }

            .search-container input {
                width: 250px;
                padding: 10px;
                border: 1px solid #ccc;
                border-radius: 5px;
                font-size: 16px;
            }

            .search-container button {
                padding: 10px;
                background-color: #A90003;
                border: none;
                color: white;
                font-size: 16px;
                cursor: pointer;
                border-radius: 5px;
                margin-left: 5px;
            }

                .search-container button:hover {
                    background-color: #c70000;
                }

        .container {
            display: flex;
            flex-wrap: wrap;
            padding: 20px;
            justify-content: space-around;
        }

        .product {
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 5px;
            width: 250px;
            margin: 10px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

            .product:hover {
                transform: translateY(-5px);
            }

            .product img {
                width: 100%;
                height: auto;
                border-bottom: 1px solid #ddd;
            }

        .product-info {
            padding: 15px;
            text-align: center;
        }

            .product-info h3 {
                margin: 10px 0;
                font-size: 18px;
            }

            .product-info p {
                color: #666;
                font-size: 14px;
            }

            .product-info .price {
                font-size: 20px;
                color: #e67e22;
            }

            .product-info button {
                padding: 10px;
                background-color: #A90003;
                border: none;
                color: white;
                font-size: 16px;
                cursor: pointer;
                border-radius: 5px;
                margin-top: 10px;
                transition: background-color 0.3s ease;
            }

                .product-info button:hover {
                    background-color: #2980b9;
                }

        .size-selector {
            margin: 10px 0;
        }

        .footer {
            background-color: #A90003;
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
            bottom: -125px;
            width: 100%;
        }
    </style>
</head>
<body>

    <header>
        <h1>Welcome to Our Online Store</h1>
        <p>Find the best deals on amazing products!</p>
    </header>

    <!-- Dropdown Menu for Settings -->
    <div class="dropdown">
        <button class="dropdown-button" onclick="toggleDropdown()">
            <i class="fas fa-cog"></i>
            <span>Settings</span>
        </button>
        <div class="dropdown-content" id="dropdownMenu">
            <button class="button" onclick="goToProfilePage()">
                <i class="fas fa-user"></i> Profile
            </button>
            <button class="button" onclick="goToCartPage()">
                <i class="fas fa-shopping-cart"></i> Cart
                <span id="cartCount"> (0)</span>
            </button>
            <button class="button" onclick="logout()">
                <i class="fas fa-sign-out-alt"></i> Log Out
            </button>
        </div>
    </div>

    <!-- Search Box -->
    <div class="search-container">
        <input type="text" id="search" placeholder="Search for products..." oninput="searchProducts()">
        <button onclick="searchProducts()">Search</button>
    </div>

    <!-- Products Section -->
    <div class="container" id="productContainer">
        <!-- Products will be dynamically inserted here -->
    </div>

    <!-- Footer -->
    <div class="footer">
        <p>&copy; 2024 Online Store. All rights reserved.</p>
    </div>

    <!-- JavaScript for Cart and Search Functionality -->
    <script>
        let cart = [];
        const cartButton = document.getElementById('cartCount');
        const productContainer = document.getElementById('productContainer');

        // Sample product data
        const products = [
            { name: 'Product 1', description: 'Some description of Product 1.', price: 25.99, image: 'https://via.placeholder.com/250x250' },
            { name: 'Product 2', description: 'Some description of Product 2.', price: 30.99, image: 'https://via.placeholder.com/250x250' },
            { name: 'Product 3', description: 'Some description of Product 3.', price: 40.99, image: 'https://via.placeholder.com/250x250' },
            { name: 'Product 4', description: 'Some description of Product 4.', price: 50.99, image: 'https://via.placeholder.com/250x250' }
        ];

        // Function to display products
        function displayProducts(filteredProducts) {
            productContainer.innerHTML = ''; // Clear current products
            filteredProducts.forEach(product => {
                const productDiv = document.createElement('div');
                productDiv.classList.add('product');
                productDiv.innerHTML = `
                        <img src="${product.image}" alt="${product.name}">
                        <div class="product-info">
                            <h3>${product.name}</h3>
                            <p>${product.description}</p>
                            <p class="price">$${product.price.toFixed(2)}</p>
                            <select class="size-selector" id="size-${product.name}">
                                <option value="">Select Size</option>
                                <option value="S">S</option>
                                <option value="M">M</option>
                                <option value="L">L</option>
                                <option value="XL">XL</option>
                                <option value="XXL">XXL</option>
                            </select>
                            <input type="number" id="quantity-${product.name}" value="1" min="1" style="width: 60px; text-align: center;">
                            <button onclick="addToCart('${product.name}', ${product.price}, document.getElementById('quantity-${product.name}').value, document.getElementById('size-${product.name}').value)">Add to Cart</button>
                        </div>
                    `;
                productContainer.appendChild(productDiv);
            });
        }

        // Function to add products to cart
        function addToCart(productName, price, quantity, size) {
            quantity = parseInt(quantity); // Ensure quantity is a number
            if (!size) {
                alert('Please select a size before adding to cart.');
                return;
            }
            const product = { productName, price, quantity, size }; // Include size
            cart.push(product);
            updateCart();
            saveCartToLocalStorage(); // Save cart to local storage
        }

        // Function to save cart to localStorage
        function saveCartToLocalStorage() {
            localStorage.setItem('cart', JSON.stringify(cart)); // Store cart as a JSON string
        }

        // Function to update the cart display
        function updateCart() {
            const cartCount = cart.length;
            cartButton.innerText = ` (${cartCount})`; // Update cart count
        }

        // Navigation Functions
        function goToCartPage() {
            window.location.href = 'F4 cart page.html'; // Ensure this matches your actual cart page filename
        }

        function goToProfilePage() {
            window.location.href = 'F4 profile page.html'; // Ensure this matches your actual profile page filename
        }

        // Function to handle logout
        function logout() {
            alert('You have logged out successfully!');
            window.location.href = 'F4 login page.html'; // Change this to your actual login page
        }

        // Function to toggle the dropdown menu
        function toggleDropdown() {
            const dropdown = document.getElementById('dropdownMenu');
            dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
        }

        // Function to search products
        function searchProducts() {
            const searchQuery = document.getElementById('search').value.toLowerCase();
            const filteredProducts = products.filter(product =>
                product.name.toLowerCase().includes(searchQuery) ||
                product.description.toLowerCase().includes(searchQuery)
            );
            displayProducts(filteredProducts);
        }

        // Initially display all products
        displayProducts(products);

        // Close the dropdown if the user clicks outside of it
        window.onclick = function (event) {
            if (!event.target.matches('.dropdown-button')) {
                const dropdowns = document.getElementsByClassName("dropdown-content");
                for (let i = 0; i < dropdowns.length; i++) {
                    const openDropdown = dropdowns[i];
                    if (openDropdown.style.display === 'block') {
                        openDropdown.style.display = 'none';
                    }
                }
            }
        }
    </script>

</body>
</html>